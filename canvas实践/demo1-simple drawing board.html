<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>简易画板</title>
</head>
<body>
<!--img src="test.png" alt="bus" width="240" height="240"><br><br> -->
<canvas id="canvassample" width="600" height="300"></canvas><br>

<button style="width: 80px;background-color: yellow;" onclick="linecolor='yellow';">YELLOW</button>
<button style="width: 80px;background-color: red;" onclick="linecolor='red';">RED</button>
<button style="width: 80px;background-color: green;" onclick="linecolor='green';">GREEN</button>
<button style="width: 80px;background-color: blue;" onclick="linecolor='blue';">BLUE</button>
<button style="width: 80px;background-color: white;" onclick="linecolor='white';">WHITE</button>
<button style="width: 80px;background-color: black;color: white" onclick="linecolor='black';">BLACK</button><br>

<button style="width: 80px;background-color: white;" onclick="linew = 4;">4px</button>
<button style="width: 80px;background-color: white;" onclick="linew = 8;">8px</button>
<button style="width: 80px;background-color: white;" onclick="linew = 16;">16px</button>
<script type="text/javascript">
	var c = document.getElementById("canvassample");
	var ctx = c.getContext("2d");

	ctx.fillStyle = "black";
	ctx.fillRect(0, 0, 600, 300);

	var onoff = false;
	var oldx = -10;
	var oldy = -10;

	var linecolor = "white";
	var linew = 4;

	c.addEventListener("mousemove", draw, true);
	c.addEventListener("mousedown", down, false);
	c.addEventListener("mouseup", up, false);

	function down(e){
		onoff = true;
		oldx = e.pageX - 10;
		oldy = e.pageY - 10;
	}

	function up(e){
		// alert(e.pageX+' '+e.pageY);
		onoff = false;
	}

	function draw(e){
		if (onoff == true){
			var newx = e.pageX - 10;
			var newy = e.pageY - 10;
			ctx.beginPath();
			ctx.moveTo(oldx, oldy);
			ctx.lineTo(newx, newy);
			ctx.strokeStyle = linecolor;
			ctx.lineWidth = linew;
			ctx.lineCap = "round";
			ctx.stroke();

			oldx = newx;
			oldy = newy;
		}
	}



</script>

</body>
</html>
