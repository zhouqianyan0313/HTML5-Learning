<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>绘制图片</title>
</head>
<body>
<!--img src="test.png" alt="bus" width="240" height="240"><br><br> -->
<canvas id="canvassample" width="600" height="600"></canvas>

<script type="text/javascript">
	var c = document.getElementById("canvassample");
	var ctx = c.getContext("2d");

	var image = new Image();

	image.src = "../test.png";
	image.onload = function(){
		ctx.drawImage(image, 10, 10);
		// ctx.drawImage(image, 150, 10, 100, 100);
		// ctx.drawImage(image, 50, 50, 100, 100, 300, 10, 100, 100);

		var imgData = ctx.getImageData(50, 50, 200, 200);//chrome中会出错，xampp
		ctx.putImageData(imgData, 10, 150);
		ctx.putImageData(imgData, 10, 300, 50, 50, 100, 100);

		var imgData01 = ctx.createImageData(imgData);//200*200
		for (var i = 0; i < imgData01.width*imgData01.height*4; i+=4){
			imgData01.data[i+0] = 255;//RGB
			imgData01.data[i+1] = 0;
			imgData01.data[i+2] = 0;
			imgData01.data[i+3] = 255;//alpha
		}
		ctx.putImageData(imgData01, 150, 10);

		var imgData02 = ctx.createImageData(100, 100);//100*100
		for (var i = 0; i < imgData02.width*imgData01.height*4; i+=4){
			imgData02.data[i+0] = 255;//RGB
			imgData02.data[i+1] = 0;
			imgData02.data[i+2] = 0;
			imgData02.data[i+3] = 155;//alpha
		}
		ctx.putImageData(imgData02, 150, 250);
	}
</script>

</body>
</html>
